<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>offerHelper</title>
  <style>
    /* 引入优雅字体 */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

    /* 深色主题 - 更现代的配色 */
    :root {
      --primary-bg: #0f0f23;
      /* 深蓝黑色主背景 */
      --secondary-bg: #1a1a2e;
      /* 深蓝灰色次要背景 */
      --tertiary-bg: #16213e;
      /* 第三层背景 */
      --accent-color: #00d4ff;
      /* 现代青色强调色 */
      --accent-hover: #00b8e6;
      /* 强调色悬停 */
      --text-primary: #ffffff;
      /* 主要文字 */
      --text-secondary: #a0a9c0;
      /* 次要文字 */
      --text-muted: #6b7280;
      /* 静音文字 */
      --border-color: #2d3748;
      /* 边框颜色 */
      --success-color: #10b981;
      /* 成功状态 */
      --warning-color: #f59e0b;
      /* 警告状态 */
      --error-color: #ef4444;
      /* 错误状态 */
      --listening-color: #3b82f6;
      /* 监听状态 */
      --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      /* 主要渐变 */
      --gradient-accent: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
      /* 强调渐变 */
      --shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --shadow-heavy: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }

    /* 浅色主题 - 更清新的配色 */
    [data-theme="light"] {
      --primary-bg: #ffffff;
      --secondary-bg: #f8fafc;
      --tertiary-bg: #f1f5f9;
      --accent-color: #3b82f6;
      --accent-hover: #2563eb;
      --text-primary: #1f2937;
      --text-secondary: #6b7280;
      --text-muted: #9ca3af;
      --border-color: #e5e7eb;
      --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --gradient-accent: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      --shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
      --shadow-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.08);
      --shadow-heavy: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
    }

    /* 自动主题 */
    [data-theme="auto"] {
      --primary-bg: light-dark(#ffffff, #0f0f23);
      --secondary-bg: light-dark(#f8fafc, #1a1a2e);
      --tertiary-bg: light-dark(#f1f5f9, #16213e);
      --accent-color: light-dark(#3b82f6, #00d4ff);
      --accent-hover: light-dark(#2563eb, #00b8e6);
      --text-primary: light-dark(#1f2937, #ffffff);
      --text-secondary: light-dark(#6b7280, #a0a9c0);
      --text-muted: light-dark(#9ca3af, #6b7280);
      --border-color: light-dark(#e5e7eb, #2d3748);
    }

    /* 全局样式 */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
      font-weight: 400;
      letter-spacing: -0.01em;
    }

    /* 窗口动画 */
    .window-enter {
      opacity: 0;
      transform: scale(0.95) translateY(-20px);
    }

    .window-enter-active {
      opacity: 1;
      transform: scale(1) translateY(0);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .window-exit {
      opacity: 1;
      transform: scale(1) translateY(0);
    }

    .window-exit-active {
      opacity: 0;
      transform: scale(0.95) translateY(-20px);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* 主题切换动画 */
    .theme-transition {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* 主窗口样式 */
    .main-window {
      width: 420px;
      height: 380px;
      background: var(--primary-bg);
      backdrop-filter: blur(20px);
      color: var(--text-primary);
      border-radius: 20px;
      box-shadow: var(--shadow-heavy);
      border: 1px solid rgba(255, 255, 255, 0.1);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      position: relative;
      min-width: 320px;
      min-height: 240px;
      max-width: 600px;
      max-height: 500px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .main-window:hover {
      transform: translateY(-2px);
      box-shadow: 0 32px 64px -12px rgba(0, 0, 0, 0.35);
    }

    /* 紧凑模式 */
    .main-window.compact {
      width: 320px;
      height: 220px;
    }

    .main-window.compact .question-area,
    .main-window.compact .answer-area {
      height: 50px;
      font-size: 12px;
    }

    /* 扩展模式 */
    .main-window.expanded {
      width: 520px;
      height: 420px;
    }

    .main-window.expanded .answer-area {
      height: 200px;
    }

    /* 标题栏 */
    .title-bar {
      height: 40px;
      background: var(--secondary-bg);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      -webkit-app-region: drag;
      border-bottom: 1px solid var(--border-color);
    }

    .window-controls {
      display: flex;
      gap: 8px;
    }

    .window-control {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      -webkit-app-region: no-drag;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .window-control:hover {
      transform: scale(1.1);
    }

    .window-control.close {
      background: linear-gradient(135deg, #ff6b6b, #ee5a52);
    }

    .window-control.minimize {
      background: linear-gradient(135deg, #ffd93d, #ffcd02);
    }

    .window-control.maximize {
      background: linear-gradient(135deg, #6bcf7f, #57c267);
    }

    .title-actions {
      display: flex;
      gap: 12px;
      -webkit-app-region: no-drag;
    }

    /* 品牌标识 */
    .brand-logo {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      font-size: 14px;
      color: var(--text-primary);
    }

    .brand-icon {
      width: 20px;
      height: 20px;
      background: var(--gradient-accent);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    /* 状态栏 */
    .status-bar {
      height: 50px;
      padding: 0 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: var(--secondary-bg);
      border-bottom: 1px solid var(--border-color);
    }

    .listening-status {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .mic-icon {
      color: var(--listening-color);
      font-size: 20px;
      filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.3));
    }

    .status-text {
      color: var(--text-secondary);
      font-size: 14px;
      font-weight: 500;
    }

    .recording-status {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .recording-indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--error-color);
      animation: pulse 1.5s infinite;
      box-shadow: 0 0 12px rgba(239, 68, 68, 0.4);
    }

    @keyframes pulse {
      0% {
        opacity: 1;
        transform: scale(1);
      }

      50% {
        opacity: 0.6;
        transform: scale(1.2);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* 问题区域 */
    .question-area {
      height: 90px;
      padding: 16px 20px;
      background: var(--tertiary-bg);
      border-radius: 12px;
      margin: 16px 20px 8px;
      overflow-y: auto;
      font-size: 14px;
      line-height: 1.6;
      border: 1px solid var(--border-color);
      transition: all 0.2s ease;
    }

    .question-area:hover {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
    }

    /* 回答区域 */
    .answer-area {
      height: 120px;
      padding: 16px 20px;
      background: var(--tertiary-bg);
      border-radius: 12px;
      margin: 8px 20px;
      overflow-y: auto;
      font-size: 14px;
      line-height: 1.6;
      flex-grow: 1;
      border: 1px solid var(--border-color);
      transition: all 0.2s ease;
    }

    .answer-area:hover {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
    }

    /* 控制栏 */
    .control-bar {
      height: 50px;
      padding: 0 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: var(--secondary-bg);
      border-top: 1px solid var(--border-color);
    }

    .mode-controls {
      display: flex;
      gap: 8px;
    }

    .action-controls {
      display: flex;
      gap: 8px;
    }

    /* 按钮样式 */
    .btn-primary {
      background: var(--gradient-accent);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: var(--shadow-light);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow-medium);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-secondary {
      background: var(--secondary-bg);
      color: var(--text-secondary);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .btn-secondary:hover {
      background: var(--tertiary-bg);
      color: var(--text-primary);
      border-color: var(--accent-color);
      transform: translateY(-1px);
    }

    .btn-icon {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: transparent;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--text-secondary);
      transition: all 0.2s ease;
    }

    .btn-icon:hover {
      background: var(--tertiary-bg);
      color: var(--text-primary);
      transform: scale(1.05);
    }

    /* 透明度控制 */
    .opacity-control {
      height: 40px;
      padding: 0 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      background: var(--secondary-bg);
      border-top: 1px solid var(--border-color);
    }

    .opacity-label {
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 500;
      min-width: 50px;
    }

    .opacity-slider {
      flex-grow: 1;
      height: 6px;
      -webkit-appearance: none;
      appearance: none;
      background: var(--border-color);
      border-radius: 3px;
      outline: none;
      transition: all 0.2s ease;
    }

    .opacity-slider:hover {
      background: var(--accent-color);
    }

    .opacity-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--gradient-accent);
      cursor: pointer;
      box-shadow: var(--shadow-light);
      transition: all 0.2s ease;
    }

    .opacity-slider::-webkit-slider-thumb:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-medium);
    }

    .opacity-value {
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 500;
      min-width: 40px;
      text-align: right;
      font-family: 'JetBrains Mono', monospace;
    }

    /* 音量可视化 */
    .volume-visualizer {
      display: flex;
      align-items: center;
      gap: 3px;
      height: 24px;
    }

    .volume-bar {
      width: 3px;
      background: var(--gradient-accent);
      border-radius: 2px;
      animation: wave 1s infinite ease-in-out;
      box-shadow: 0 0 6px rgba(59, 130, 246, 0.3);
    }

    .volume-bar:nth-child(1) {
      animation-delay: 0s;
    }

    .volume-bar:nth-child(2) {
      animation-delay: 0.1s;
    }

    .volume-bar:nth-child(3) {
      animation-delay: 0.2s;
    }

    .volume-bar:nth-child(4) {
      animation-delay: 0.3s;
    }

    .volume-bar:nth-child(5) {
      animation-delay: 0.4s;
    }

    @keyframes wave {

      0%,
      100% {
        height: 6px;
      }

      50% {
        height: 20px;
      }
    }

    /* 登录界面样式 */
    .login-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(20px);
    }

    .login-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 40px;
      width: 400px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      animation: loginCardEnter 0.6s ease-out;
    }

    @keyframes loginCardEnter {
      from {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .login-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .login-logo {
      font-size: 64px;
      margin-bottom: 16px;
      animation: logoFloat 3s ease-in-out infinite;
    }

    @keyframes logoFloat {

      0%,
      100% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-5px);
      }
    }

    .login-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .login-subtitle {
      font-size: 14px;
      color: var(--text-secondary);
      opacity: 0.8;
    }

    .login-form {
      width: 100%;
    }

    .input-group {
      margin-bottom: 20px;
    }

    .input-label {
      display: block;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .login-input {
      width: 100%;
      padding: 14px 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-primary);
      font-size: 14px;
      outline: none;
      transition: all 0.3s ease;
      box-sizing: border-box;
    }

    .login-input:focus {
      border-color: var(--accent-color);
      background: rgba(255, 255, 255, 0.08);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .login-input::placeholder {
      color: var(--text-secondary);
      opacity: 0.6;
    }

    .verification-group {
      display: flex;
      gap: 12px;
      align-items: stretch;
    }

    .verification-input {
      flex: 1;
    }

    .send-code-btn {
      padding: 14px 20px;
      background: rgba(59, 130, 246, 0.2);
      color: var(--accent-color);
      border: 1px solid var(--accent-color);
      border-radius: 12px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      white-space: nowrap;
      min-width: 100px;
    }

    .send-code-btn:hover:not(:disabled) {
      background: var(--accent-color);
      color: white;
      transform: translateY(-1px);
    }

    .send-code-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-secondary);
      border-color: rgba(255, 255, 255, 0.1);
    }

    .input-error {
      font-size: 12px;
      color: #ef4444;
      margin-top: 6px;
      min-height: 16px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .input-error.show {
      opacity: 1;
    }

    .code-timer {
      font-size: 12px;
      color: var(--accent-color);
      margin-top: 6px;
      min-height: 16px;
    }

    .login-button {
      width: 100%;
      padding: 16px;
      margin: 24px 0;
      background: var(--accent-color);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .login-button:hover:not(:disabled) {
      background: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
    }

    .login-button:disabled {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-secondary);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .login-button:active:not(:disabled) {
      transform: translateY(0);
    }

    .login-footer {
      text-align: center;
    }

    .login-help {
      margin-bottom: 12px;
    }

    .help-link {
      color: var(--accent-color);
      text-decoration: none;
      font-size: 13px;
      transition: opacity 0.3s ease;
    }

    .help-link:hover {
      opacity: 0.8;
      text-decoration: underline;
    }

    .separator {
      margin: 0 8px;
      color: var(--text-secondary);
      opacity: 0.5;
    }

    .login-tips {
      font-size: 12px;
      color: var(--text-secondary);
      opacity: 0.7;
    }

    /* 登录状态指示器 */
    .login-loading {
      position: relative;
    }

    .login-loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin: -10px 0 0 -10px;
      border: 2px solid transparent;
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    .login-help {
      color: var(--text-secondary);
      font-size: 14px;
      margin-top: 16px;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
    }

    .login-help:hover {
      color: var(--accent-color);
    }

    /* 设置界面样式 */
    .settings-container {
      width: 540px;
      height: 440px;
      background: var(--primary-bg);
      backdrop-filter: blur(20px);
      color: var(--text-primary);
      border-radius: 20px;
      box-shadow: var(--shadow-heavy);
      border: 1px solid rgba(255, 255, 255, 0.1);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .settings-header {
      height: 40px;
      background: var(--secondary-bg);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      border-bottom: 1px solid var(--border-color);
    }

    .settings-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .settings-actions {
      display: flex;
      gap: 12px;
    }

    .settings-tabs {
      display: flex;
      height: 50px;
      background: var(--secondary-bg);
      border-bottom: 1px solid var(--border-color);
    }

    .settings-tab {
      padding: 0 20px;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-secondary);
      border-bottom: 3px solid transparent;
      transition: all 0.2s ease;
      position: relative;
    }

    .settings-tab:hover {
      color: var(--text-primary);
      background: var(--tertiary-bg);
    }

    .settings-tab.active {
      color: var(--accent-color);
      border-bottom-color: var(--accent-color);
      background: var(--tertiary-bg);
    }

    .settings-content {
      flex-grow: 1;
      padding: 24px;
      overflow-y: auto;
    }

    .settings-section {
      margin-bottom: 24px;
    }

    .settings-section-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 12px;
      color: var(--text-primary);
    }

    .settings-slider {
      width: 100%;
      height: 6px;
      -webkit-appearance: none;
      appearance: none;
      background: var(--border-color);
      border-radius: 3px;
      outline: none;
      margin-bottom: 16px;
      transition: all 0.2s ease;
    }

    .settings-slider:hover {
      background: var(--accent-color);
    }

    .settings-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--gradient-accent);
      cursor: pointer;
      box-shadow: var(--shadow-light);
      transition: all 0.2s ease;
    }

    .settings-slider::-webkit-slider-thumb:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-medium);
    }

    .settings-checkbox {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .settings-checkbox:hover {
      color: var(--accent-color);
    }

    .settings-checkbox input {
      margin-right: 12px;
      width: 18px;
      height: 18px;
      accent-color: var(--accent-color);
    }

    .settings-radio-group {
      display: flex;
      gap: 20px;
      margin-bottom: 16px;
    }

    .settings-radio {
      display: flex;
      align-items: center;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .settings-radio:hover {
      color: var(--accent-color);
    }

    .settings-radio input {
      margin-right: 8px;
      width: 18px;
      height: 18px;
      accent-color: var(--accent-color);
    }

    .settings-select {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      background: var(--secondary-bg);
      color: var(--text-primary);
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 16px;
      transition: all 0.2s ease;
    }

    .settings-select:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
    }

    /* 无障碍设计 */
    @media (prefers-contrast: high) {
      :root {
        --primary-bg: #000000;
        --secondary-bg: #1a1a1a;
        --text-primary: #ffffff;
        --border-color: #ffffff;
        --accent-color: #00ff00;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* 响应式设计 */
    @media (min-resolution: 144dpi) {
      .main-window {
        font-size: 13px;
      }
    }

    @media (min-resolution: 192dpi) {
      .main-window {
        font-size: 12px;
      }
    }

    /* 触摸友好设计 */
    .touch-target {
      min-width: 44px;
      min-height: 44px;
      padding: 8px;
    }

    .swipe-area {
      touch-action: pan-x pan-y;
    }

    /* 字体大小类 */
    .font-small {
      font-size: 12px;
    }

    .font-normal {
      font-size: 14px;
    }

    .font-large {
      font-size: 16px;
    }

    .font-xlarge {
      font-size: 18px;
    }

    /* 隐藏不活跃的界面 */
    .hidden {
      display: none;
    }

    /* 滚动条样式 */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: var(--secondary-bg);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent-color);
    }
  </style>
</head>

<body>
  <!-- 主界面 -->
  <div id="main-interface" class="main-window theme-transition">
    <!-- 标题栏 -->
    <div class="title-bar">
      <div class="window-controls">
        <div class="window-control close"></div>
        <div class="window-control minimize"></div>
        <div class="window-control maximize"></div>
      </div>
      <div class="brand-logo">
        <div class="brand-icon">🎯</div>
        <span>offerHelper</span>
      </div>
      <div class="title-actions">
        <button class="btn-secondary" id="settings-btn">设置</button>
        <button class="btn-secondary" id="hide-btn">隐藏</button>
      </div>
    </div>

    <!-- 状态栏 -->
    <div class="status-bar">
      <div class="listening-status">
        <span class="mic-icon">🎤</span>
        <div class="volume-visualizer">
          <div class="volume-bar"></div>
          <div class="volume-bar"></div>
          <div class="volume-bar"></div>
          <div class="volume-bar"></div>
          <div class="volume-bar"></div>
        </div>
        <span class="status-text">正在监听中...</span>
      </div>
      <div class="recording-status">
        <div class="recording-indicator"></div>
        <span class="status-text">录音中</span>
      </div>
    </div>

    <!-- 问题区域 -->
    <div class="question-area">
      <div style="color: var(--text-muted); font-size: 12px; margin-bottom: 8px;">识别到的问题</div>
      <div>请介绍一下你的项目经验和技术栈...</div>
    </div>

    <!-- 回答区域 -->
    <div class="answer-area">
      <div style="color: var(--text-muted); font-size: 12px; margin-bottom: 8px;">AI 生成的回答建议</div>
      <div>我在过去的项目中主要使用了React、Node.js和MongoDB技术栈。其中最有代表性的项目是一个电商平台，我负责前端架构设计和核心功能开发...</div>
    </div>

    <!-- 控制栏 -->
    <div class="control-bar">
      <div class="mode-controls">
        <button class="btn-secondary">精简</button>
        <button class="btn-primary">普通</button>
        <button class="btn-secondary">详细</button>
      </div>
      <div class="action-controls">
        <button class="btn-secondary">复制</button>
        <button class="btn-secondary">清除</button>
      </div>
    </div>

    <!-- 透明度控制 -->
    <div class="opacity-control">
      <span class="opacity-label">透明度</span>
      <input type="range" class="opacity-slider" min="20" max="100" value="80">
      <span class="opacity-value">80%</span>
    </div>
  </div>

  <!-- 登录界面 -->
  <div id="login-interface" class="login-container theme-transition">
    <div class="login-card">
      <div class="login-header">
        <div class="login-logo">🎯</div>
        <div class="login-title">offerHelper</div>
        <div class="login-subtitle">AI面试助手</div>
      </div>

      <div class="login-form">
        <div class="input-group">
          <label class="input-label">邮箱地址</label>
          <input type="email" id="email-input" class="login-input" placeholder="请输入您的邮箱地址">
          <div class="input-error" id="email-error"></div>
        </div>

        <div class="input-group">
          <label class="input-label">验证码</label>
          <div class="verification-group">
            <input type="text" id="code-input" class="login-input verification-input" placeholder="请输入6位验证码"
              maxlength="6">
            <button id="send-code-btn" class="send-code-btn">发送验证码</button>
          </div>
          <div class="input-error" id="code-error"></div>
          <div class="code-timer" id="code-timer"></div>
        </div>

        <button id="login-btn" class="login-button" disabled>登录</button>

        <div class="login-footer">
          <div class="login-help">
            <a href="#" class="help-link">使用指南</a>
            <span class="separator">|</span>
            <a href="#" class="help-link">隐私政策</a>
          </div>
          <div class="login-tips">
            首次使用将自动创建账户
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 设置界面 -->
  <div id="settings-interface" class="settings-container theme-transition hidden">
    <!-- 设置标题栏 -->
    <div class="settings-header">
      <div class="settings-title">offerHelper 设置</div>
      <div class="settings-actions">
        <button class="btn-primary" id="save-settings">保存</button>
        <button class="btn-secondary" id="cancel-settings">取消</button>
      </div>
    </div>

    <!-- 设置标签页 -->
    <div class="settings-tabs">
      <div class="settings-tab active" data-tab="basic">基础设置</div>
      <div class="settings-tab" data-tab="audio">音频设置</div>
      <div class="settings-tab" data-tab="shortcuts">快捷键</div>
      <div class="settings-tab" data-tab="about">关于</div>
    </div>

    <!-- 设置内容 -->
    <div class="settings-content">
      <!-- 基础设置 -->
      <div id="basic-settings" class="settings-panel">
        <div class="settings-section">
          <div class="settings-section-title">透明度设置</div>
          <input type="range" class="settings-slider" min="20" max="100" value="80">
        </div>

        <div class="settings-section">
          <div class="settings-checkbox">
            <input type="checkbox" id="auto-hide">
            <label for="auto-hide">检测到屏幕共享时自动隐藏</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="auto-start">
            <label for="auto-start">开机自动启动</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="minimize-to-tray">
            <label for="minimize-to-tray">最小化到系统托盘</label>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">主题设置</div>
          <div class="settings-radio-group">
            <div class="settings-radio">
              <input type="radio" id="theme-dark" name="theme" checked>
              <label for="theme-dark">深色主题</label>
            </div>
            <div class="settings-radio">
              <input type="radio" id="theme-light" name="theme">
              <label for="theme-light">浅色主题</label>
            </div>
            <div class="settings-radio">
              <input type="radio" id="theme-auto" name="theme">
              <label for="theme-auto">跟随系统</label>
            </div>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">窗口设置</div>
          <div class="settings-checkbox">
            <input type="checkbox" id="always-on-top">
            <label for="always-on-top">始终置顶</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="frameless-mode">
            <label for="frameless-mode">无边框模式</label>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">语言设置</div>
          <select class="settings-select">
            <option value="zh-CN">简体中文</option>
            <option value="en-US">English</option>
          </select>
        </div>
      </div>

      <!-- 音频设置 -->
      <div id="audio-settings" class="settings-panel hidden">
        <div class="settings-section">
          <div class="settings-section-title">麦克风设备</div>
          <select class="settings-select">
            <option value="default">默认设备</option>
          </select>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">音频灵敏度</div>
          <div style="display: flex; align-items: center; gap: 10px;">
            <input type="range" class="settings-slider" min="1" max="10" value="8" style="flex-grow: 1;">
            <span>8/10</span>
            <button class="btn-secondary">测试</button>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-checkbox">
            <input type="checkbox" id="noise-suppression">
            <label for="noise-suppression">启用噪音抑制</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="echo-cancellation">
            <label for="echo-cancellation">启用回声消除</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="auto-gain">
            <label for="auto-gain">自动增益控制</label>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">音频质量</div>
          <div class="settings-radio-group">
            <div class="settings-radio">
              <input type="radio" id="quality-standard" name="quality" checked>
              <label for="quality-standard">标准 (16kHz)</label>
            </div>
            <div class="settings-radio">
              <input type="radio" id="quality-high" name="quality">
              <label for="quality-high">高质量 (48kHz)</label>
            </div>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">语音识别服务</div>
          <div class="settings-radio-group">
            <div class="settings-radio">
              <input type="radio" id="service-tencent" name="service" checked>
              <label for="service-tencent">腾讯云</label>
            </div>
            <div class="settings-radio">
              <input type="radio" id="service-baidu" name="service">
              <label for="service-baidu">百度云</label>
            </div>
            <div class="settings-radio">
              <input type="radio" id="service-ali" name="service">
              <label for="service-ali">阿里云</label>
            </div>
          </div>
        </div>

        <div class="settings-section">
          <div style="display: flex; gap: 10px;">
            <button class="btn-secondary">测试麦克风</button>
            <button class="btn-secondary">测试识别</button>
          </div>
        </div>
      </div>

      <!-- 快捷键设置 -->
      <div id="shortcuts-settings" class="settings-panel hidden">
        <div class="settings-section">
          <table style="width: 100%; border-collapse: collapse;">
            <tr>
              <th style="text-align: left; padding-bottom: 10px;">功能</th>
              <th style="text-align: right; padding-bottom: 10px;">快捷键</th>
            </tr>
            <tr style="border-top: 1px solid var(--border-color);">
              <td style="padding: 8px 0;">显示/隐藏窗口</td>
              <td style="text-align: right;">[Cmd+Shift+H]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">开始/停止监听</td>
              <td style="text-align: right;">[Cmd+Shift+S]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">精简模式</td>
              <td style="text-align: right;">[Cmd+Shift+1]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">普通模式</td>
              <td style="text-align: right;">[Cmd+Shift+2]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">详细模式</td>
              <td style="text-align: right;">[Cmd+Shift+3]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">紧急隐藏</td>
              <td style="text-align: right;">[Cmd+Shift+E]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">退出应用</td>
              <td style="text-align: right;">[Cmd+Shift+Q]</td>
            </tr>
          </table>
        </div>

        <div class="settings-section">
          <div class="settings-checkbox">
            <input type="checkbox" id="enable-shortcuts" checked>
            <label for="enable-shortcuts">启用全局快捷键</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="show-shortcuts-tips">
            <label for="show-shortcuts-tips">显示快捷键提示</label>
          </div>
        </div>

        <div class="settings-section">
          <div style="display: flex; gap: 10px;">
            <button class="btn-secondary">恢复默认</button>
            <button class="btn-secondary">检测冲突</button>
          </div>
        </div>
      </div>

      <!-- 关于页面 -->
      <div id="about-settings" class="settings-panel hidden">
        <div class="settings-section" style="text-align: center;">
          <div style="font-size: 48px; margin-bottom: 10px;">🎯</div>
          <div style="font-size: 20px; font-weight: 600; margin-bottom: 5px;">offerHelper</div>
          <div style="color: var(--text-secondary); margin-bottom: 20px;">版本 1.0.0</div>
          <div style="margin-bottom: 20px;">
            一款专为面试场景设计的AI助手，帮助您在面试中表现更出色
          </div>
          <div style="color: var(--text-secondary); margin-bottom: 10px;">
            © 2024 offerHelper 团队
          </div>
          <div>
            <a href="#" style="color: var(--accent-color); text-decoration: none; margin: 0 10px;">官方网站</a>
            <a href="#" style="color: var(--accent-color); text-decoration: none; margin: 0 10px;">使用指南</a>
            <a href="#" style="color: var(--accent-color); text-decoration: none; margin: 0 10px;">隐私政策</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // 主题切换
    const themeRadios = document.querySelectorAll('input[name="theme"]')
    themeRadios.forEach(radio =>
    {
      radio.addEventListener('change', (e) =>
      {
        if (e.target.id === 'theme-dark') {
          document.documentElement.removeAttribute('data-theme')
        } else if (e.target.id === 'theme-light') {
          document.documentElement.setAttribute('data-theme', 'light')
        } else if (e.target.id === 'theme-auto') {
          document.documentElement.setAttribute('data-theme', 'auto')
        }
      })
    })

    // 透明度控制
    const opacitySliders = document.querySelectorAll('.opacity-slider')
    opacitySliders.forEach(slider =>
    {
      slider.addEventListener('input', (e) =>
      {
        const value = e.target.value
        const mainWindow = document.getElementById('main-interface')
        mainWindow.style.opacity = value / 100

        // 更新显示的值
        const valueDisplay = e.target.parentElement.querySelector('.opacity-value')
        if (valueDisplay) {
          valueDisplay.textContent = `${value}%`
        }
      })
    })

    // 界面切换
    const settingsBtn = document.getElementById('settings-btn')
    const saveSettingsBtn = document.getElementById('save-settings')
    const cancelSettingsBtn = document.getElementById('cancel-settings')
    const mainInterface = document.getElementById('main-interface')
    const settingsInterface = document.getElementById('settings-interface')

    settingsBtn.addEventListener('click', () =>
    {
      mainInterface.classList.add('hidden')
      settingsInterface.classList.remove('hidden')
    })

    saveSettingsBtn.addEventListener('click', () =>
    {
      settingsInterface.classList.add('hidden')
      mainInterface.classList.remove('hidden')
    })

    cancelSettingsBtn.addEventListener('click', () =>
    {
      settingsInterface.classList.add('hidden')
      mainInterface.classList.remove('hidden')
    })

    // 设置标签页切换
    const settingsTabs = document.querySelectorAll('.settings-tab')
    const settingsPanels = document.querySelectorAll('.settings-panel')

    settingsTabs.forEach(tab =>
    {
      tab.addEventListener('click', () =>
      {
        // 移除所有标签页的活跃状态
        settingsTabs.forEach(t => t.classList.remove('active'))
        // 隐藏所有面板
        settingsPanels.forEach(p => p.classList.add('hidden'))

        // 激活当前标签页
        tab.classList.add('active')
        // 显示对应面板
        const panelId = `${tab.dataset.tab}-settings`
        document.getElementById(panelId)?.classList.remove('hidden')
      })
    })

    // 模式切换
    const modeButtons = document.querySelectorAll('.mode-controls button')
    modeButtons.forEach(button =>
    {
      button.addEventListener('click', () =>
      {
        modeButtons.forEach(b => b.classList.remove('btn-primary'))
        modeButtons.forEach(b => b.classList.add('btn-secondary'))
        button.classList.remove('btn-secondary')
        button.classList.add('btn-primary')
      })
    })

    // 隐藏按钮
    const hideBtn = document.getElementById('hide-btn')
    hideBtn.addEventListener('click', () =>
    {
      mainInterface.classList.add('window-exit')
      mainInterface.classList.add('window-exit-active')
      setTimeout(() =>
      {
        mainInterface.classList.add('hidden')
        mainInterface.classList.remove('window-exit')
        mainInterface.classList.remove('window-exit-active')
      }, 300)
    })

    // 复制和清除按钮
    const copyBtn = document.querySelector('.action-controls button:first-child')
    const clearBtn = document.querySelector('.action-controls button:last-child')
    const answerArea = document.querySelector('.answer-area')
    const questionArea = document.querySelector('.question-area')

    copyBtn.addEventListener('click', () =>
    {
      const answerText = answerArea.children[1].textContent.trim()
      navigator.clipboard.writeText(answerText)
        .then(() =>
        {
          // 复制成功的视觉反馈
          copyBtn.textContent = '已复制'
          setTimeout(() =>
          {
            copyBtn.textContent = '复制'
          }, 2000)
        })
        .catch(err =>
        {
          console.error('复制失败:', err)
        })
    })

    clearBtn.addEventListener('click', () =>
    {
      questionArea.children[1].textContent = '等待识别问题...'
      answerArea.children[1].textContent = '等待AI生成回答建议...'
    })

    // 登录界面逻辑
    const loginInterface = document.getElementById('login-interface')
    const emailInput = document.getElementById('email-input')
    const codeInput = document.getElementById('code-input')
    const sendCodeBtn = document.getElementById('send-code-btn')
    const loginBtn = document.getElementById('login-btn')
    const emailError = document.getElementById('email-error')
    const codeError = document.getElementById('code-error')
    const codeTimer = document.getElementById('code-timer')

    let countdownTimer = null
    let countdown = 0

    // 邮箱验证
    function validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/
      return emailRegex.test(email)
    }

    // 显示错误信息
    function showError(errorElement, message) {
      errorElement.textContent = message
      errorElement.classList.add('show')
    }

    // 隐藏错误信息
    function hideError(errorElement) {
      errorElement.classList.remove('show')
    }

    // 更新登录按钮状态
    function updateLoginButton() {
      const emailValid = validateEmail(emailInput.value.trim())
      const codeValid = codeInput.value.trim().length === 6
      loginBtn.disabled = !(emailValid && codeValid)
    }

    // 开始倒计时
    function startCountdown() {
      countdown = 60
      sendCodeBtn.disabled = true
      
      function updateTimer() {
        if (countdown > 0) {
          codeTimer.textContent = `${countdown}秒后可重新发送`
          sendCodeBtn.textContent = `${countdown}s`
          countdown--
          countdownTimer = setTimeout(updateTimer, 1000)
        } else {
          codeTimer.textContent = ''
          sendCodeBtn.textContent = '重新发送'
          sendCodeBtn.disabled = false
        }
      }
      updateTimer()
    }

    // 邮箱输入事件
    emailInput.addEventListener('input', () => {
      hideError(emailError)
      updateLoginButton()
    })

    emailInput.addEventListener('blur', () => {
      const email = emailInput.value.trim()
      if (email && !validateEmail(email)) {
        showError(emailError, '请输入有效的邮箱地址')
      }
    })

    // 验证码输入事件
    codeInput.addEventListener('input', (e) => {
      // 只允许输入数字
      e.target.value = e.target.value.replace(/\D/g, '')
      hideError(codeError)
      updateLoginButton()
    })

    // 发送验证码
    sendCodeBtn.addEventListener('click', () => {
      const email = emailInput.value.trim()
      
      if (!email) {
        showError(emailError, '请输入邮箱地址')
        emailInput.focus()
        return
      }
      
      if (!validateEmail(email)) {
        showError(emailError, '请输入有效的邮箱地址')
        emailInput.focus()
        return
      }

      // 模拟发送验证码
      sendCodeBtn.textContent = '发送中...'
      sendCodeBtn.disabled = true
      
      setTimeout(() => {
        // 模拟发送成功
        startCountdown()
        codeInput.focus()
        
        // 显示成功提示（实际项目中这里会调用真实的API）
        console.log(`验证码已发送到 ${email}`)
      }, 1500)
    })

    // 登录
    loginBtn.addEventListener('click', () => {
      const email = emailInput.value.trim()
      const code = codeInput.value.trim()
      
      if (!validateEmail(email)) {
        showError(emailError, '请输入有效的邮箱地址')
        return
      }
      
      if (code.length !== 6) {
        showError(codeError, '请输入6位验证码')
        return
      }

      // 显示登录中状态
      loginBtn.classList.add('login-loading')
      loginBtn.textContent = ''
      loginBtn.disabled = true
      
      // 模拟登录验证
      setTimeout(() => {
        // 模拟登录成功（实际项目中这里会调用真实的API验证）
        console.log(`登录成功: ${email}, 验证码: ${code}`)
        
        // 登录成功，切换到主界面
        loginInterface.classList.add('hidden')
        mainInterface.classList.remove('hidden')
        
        // 重置登录表单
        emailInput.value = ''
        codeInput.value = ''
        loginBtn.classList.remove('login-loading')
        loginBtn.textContent = '登录'
        loginBtn.disabled = true
        hideError(emailError)
        hideError(codeError)
        
        // 清除倒计时
        if (countdownTimer) {
          clearTimeout(countdownTimer)
          countdownTimer = null
        }
        codeTimer.textContent = ''
        sendCodeBtn.textContent = '发送验证码'
        sendCodeBtn.disabled = false
        countdown = 0
        
      }, 2000)
    })

    // 回车键登录
    codeInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' && !loginBtn.disabled) {
        loginBtn.click()
      }
    })

    emailInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        if (validateEmail(emailInput.value.trim())) {
          sendCodeBtn.click()
        }
      }
    })

    // 初始化界面
    document.addEventListener('DOMContentLoaded', () =>
    {
      // 默认显示登录界面
      loginInterface.classList.remove('hidden')
      mainInterface.classList.add('hidden')
      
      // 聚焦到邮箱输入框
      setTimeout(() => {
        emailInput.focus()
      }, 500)
    })
  </script>
</body>

</html>