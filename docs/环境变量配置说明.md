# 腾讯云语音识别环境变量配置说明

## 配置步骤

### 1. 创建环境变量文件

将项目根目录下的 `.env.example` 文件复制为 `.env`：

```bash
cp .env.example .env
```

### 2. 获取腾讯云认证信息

#### 2.1 获取 AppId

1. 访问 [腾讯云控制台](https://console.cloud.tencent.com/)
2. 进入 [账号信息页面](https://console.cloud.tencent.com/developer)
3. 复制 "APPID" 字段的值

#### 2.2 获取 SecretId 和 SecretKey

1. 访问 [访问管理控制台](https://console.cloud.tencent.com/cam/capi)
2. 点击 "新建密钥" 或使用现有密钥
3. 复制 "SecretId" 和 "SecretKey"

#### 2.3 开通语音识别服务

1. 访问 [语音识别控制台](https://console.cloud.tencent.com/asr)
2. 开通 "实时语音识别" 服务
3. 确认服务状态为 "已开通"

### 3. 配置环境变量

编辑 `.env` 文件，填入获取到的信息：

```env
# 腾讯云语音识别配置
TENCENT_APP_ID=1234567890
TENCENT_SECRET_ID=YOUR_SECRET_ID_HERE
TENCENT_SECRET_KEY=YOUR_SECRET_KEY_HERE
TENCENT_REGION=ap-beijing
```

### 4. 重启应用

配置完成后，重启应用以加载新的环境变量：

```bash
# 停止当前运行的应用 (Ctrl+C)
# 然后重新启动
npm run dev
```

## 安全注意事项

1. **不要将 `.env` 文件提交到版本控制系统**
   - `.env` 文件已添加到 `.gitignore` 中
   - 确保不要意外提交包含真实密钥的文件

2. **定期轮换密钥**
   - 建议定期在腾讯云控制台更新 SecretKey
   - 更新后记得同步更新 `.env` 文件

3. **使用临时密钥（推荐）**
   - 对于生产环境，建议使用 [临时身份凭证](https://cloud.tencent.com/document/product/1312/48195)
   - 临时密钥具有更高的安全性

## 配置验证

应用启动后，您可以通过以下方式验证配置：

1. **查看状态栏**
   - 配置正确：显示 "配置已加载"
   - 配置错误：显示具体的错误信息

2. **测试语音识别**
   - 点击 "开始面试" 按钮
   - 允许麦克风权限
   - 开始说话测试识别功能

## 常见问题

### Q: 提示 "缺少环境变量" 怎么办？

A: 检查 `.env` 文件是否存在，以及环境变量名称是否正确。

### Q: 提示 "鉴权失败" 怎么办？

A: 检查 SecretId 和 SecretKey 是否正确，以及是否已开通语音识别服务。

### Q: 语音识别没有反应怎么办？

A: 检查浏览器是否允许麦克风权限，以及网络连接是否正常。

## 技术支持

如遇到问题，请检查：

1. 环境变量配置是否正确
2. 腾讯云服务是否已开通
3. 网络连接是否正常
4. 浏览器控制台是否有错误信息
