# 腾讯语音识别集成说明

## 功能概述

本应用已集成腾讯云实时语音识别功能，支持在面试过程中实时识别语音内容并显示在界面上。

## 配置步骤

### 1. 获取腾讯云认证信息

1. **获取AppId**
   - 访问 [腾讯云控制台账号信息页面](https://console.cloud.tencent.com/developer)
   - 复制您的AppId

2. **获取SecretId和SecretKey**
   - 访问 [腾讯云控制台访问管理页面](https://console.cloud.tencent.com/cam/capi)
   - 创建或查看现有的API密钥
   - 复制SecretId和SecretKey

3. **开通语音识别服务**
   - 访问 [腾讯云语音识别控制台](https://console.cloud.tencent.com/asr)
   - 开通实时语音识别服务

### 2. 配置应用

1. 打开 `src/renderer/config/tencent-config.ts` 文件
2. 将获取到的认证信息填入配置：

```typescript
export const defaultTencentConfig: TencentCloudConfig = {
  appId: '您的AppId',           // 替换为真实的AppId
  secretId: '您的SecretId',     // 替换为真实的SecretId
  secretKey: '您的SecretKey',   // 替换为真实的SecretKey
  region: 'ap-beijing',         // 可选，默认北京地域
};
```

### 3. 环境变量配置（可选）

您也可以通过环境变量来配置认证信息：

```bash
export TENCENT_APP_ID="您的AppId"
export TENCENT_SECRET_ID="您的SecretId"
export TENCENT_SECRET_KEY="您的SecretKey"
export TENCENT_REGION="ap-beijing"
```

## 使用方法

### 1. 启动语音识别

1. 确保已正确配置腾讯云认证信息
2. 点击界面上的"开始面试"按钮
3. 浏览器会请求麦克风权限，请允许访问
4. 开始说话，识别结果会实时显示在问题区域（标记1的位置）

### 2. 停止语音识别

- 点击"结束面试"按钮即可停止语音识别

### 3. 功能特性

- **实时识别**：边说边出文字，识别结果实时更新
- **自动分句**：自动识别句子边界，完整句子会触发AI回答生成
- **滚动显示**：识别内容过多时自动显示滚动条
- **状态提示**：实时显示识别状态和配置状态

## 技术参数

- **采样率**：16000Hz
- **声道**：单声道
- **格式**：WAV
- **引擎模型**：16k_zh（中文通用模型）
- **VAD**：启用语音活动检测

## 故障排除

### 1. 配置无效提示

如果界面显示"配置无效"，请检查：

- AppId、SecretId、SecretKey是否正确填写
- 是否已开通腾讯云语音识别服务
- 网络连接是否正常

### 2. 麦克风权限问题

如果无法获取麦克风权限：

- 检查浏览器是否允许麦克风访问
- 确保麦克风设备正常工作
- 尝试刷新页面重新授权

### 3. 识别效果不佳

如果识别准确率较低：

- 确保环境安静，减少背景噪音
- 说话清晰，语速适中
- 检查麦克风是否正常工作
- 尝试调整与麦克风的距离

### 4. 连接失败

如果WebSocket连接失败：

- 检查网络连接
- 确认腾讯云服务状态
- 检查防火墙设置
- 验证认证信息是否正确

## 浏览器兼容性

支持的浏览器：

- Chrome 78+
- Firefox 84+
- Safari 14+
- Edge 79+

不支持的浏览器：

- Internet Explorer
- 部分移动端浏览器（UC浏览器、夸克浏览器等）

## 安全注意事项

1. **密钥安全**：
   - 不要将SecretKey提交到版本控制系统
   - 建议使用环境变量或配置文件管理密钥
   - 定期轮换API密钥

2. **权限控制**：
   - 为API密钥设置最小权限
   - 仅授予语音识别相关权限

3. **网络安全**：
   - 使用HTTPS协议
   - 确保WebSocket连接安全

## 费用说明

腾讯云语音识别按使用量计费：

- 实时语音识别：按识别时长计费
- 具体价格请参考 [腾讯云语音识别定价](https://cloud.tencent.com/product/asr/pricing)

## 技术支持

如遇到问题，可以：

1. 查看浏览器控制台错误信息
2. 参考腾讯云语音识别官方文档
3. 联系技术支持

## 更新日志

- **v1.0.0**：集成腾讯云实时语音识别功能
  - 支持实时语音转文字
  - 支持自动分句和回答生成
  - 支持状态监控和错误处理
