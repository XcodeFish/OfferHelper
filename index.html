<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>offerHelper</title>
  <style>
    /* å¼•å…¥ä¼˜é›…å­—ä½“ */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

    /* æ·±è‰²ä¸»é¢˜ - æ›´ç°ä»£çš„é…è‰² */
    :root {
      --primary-bg: #0f0f23;
      /* æ·±è“é»‘è‰²ä¸»èƒŒæ™¯ */
      --secondary-bg: #1a1a2e;
      /* æ·±è“ç°è‰²æ¬¡è¦èƒŒæ™¯ */
      --tertiary-bg: #16213e;
      /* ç¬¬ä¸‰å±‚èƒŒæ™¯ */
      --accent-color: #00d4ff;
      /* ç°ä»£é’è‰²å¼ºè°ƒè‰² */
      --accent-hover: #00b8e6;
      /* å¼ºè°ƒè‰²æ‚¬åœ */
      --text-primary: #ffffff;
      /* ä¸»è¦æ–‡å­— */
      --text-secondary: #a0a9c0;
      /* æ¬¡è¦æ–‡å­— */
      --text-muted: #6b7280;
      /* é™éŸ³æ–‡å­— */
      --border-color: #2d3748;
      /* è¾¹æ¡†é¢œè‰² */
      --success-color: #10b981;
      /* æˆåŠŸçŠ¶æ€ */
      --warning-color: #f59e0b;
      /* è­¦å‘ŠçŠ¶æ€ */
      --error-color: #ef4444;
      /* é”™è¯¯çŠ¶æ€ */
      --listening-color: #3b82f6;
      /* ç›‘å¬çŠ¶æ€ */
      --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      /* ä¸»è¦æ¸å˜ */
      --gradient-accent: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
      /* å¼ºè°ƒæ¸å˜ */
      --shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      --shadow-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      --shadow-heavy: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    }

    /* æµ…è‰²ä¸»é¢˜ - æ›´æ¸…æ–°çš„é…è‰² */
    [data-theme="light"] {
      --primary-bg: #ffffff;
      --secondary-bg: #f8fafc;
      --tertiary-bg: #f1f5f9;
      --accent-color: #3b82f6;
      --accent-hover: #2563eb;
      --text-primary: #1f2937;
      --text-secondary: #6b7280;
      --text-muted: #9ca3af;
      --border-color: #e5e7eb;
      --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      --gradient-accent: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      --shadow-light: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
      --shadow-medium: 0 10px 15px -3px rgba(0, 0, 0, 0.08);
      --shadow-heavy: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
    }

    /* è‡ªåŠ¨ä¸»é¢˜ */
    [data-theme="auto"] {
      --primary-bg: light-dark(#ffffff, #0f0f23);
      --secondary-bg: light-dark(#f8fafc, #1a1a2e);
      --tertiary-bg: light-dark(#f1f5f9, #16213e);
      --accent-color: light-dark(#3b82f6, #00d4ff);
      --accent-hover: light-dark(#2563eb, #00b8e6);
      --text-primary: light-dark(#1f2937, #ffffff);
      --text-secondary: light-dark(#6b7280, #a0a9c0);
      --text-muted: light-dark(#9ca3af, #6b7280);
      --border-color: light-dark(#e5e7eb, #2d3748);
    }

    /* å…¨å±€æ ·å¼ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 20px;
      font-weight: 400;
      letter-spacing: -0.01em;
    }

    /* çª—å£åŠ¨ç”» */
    .window-enter {
      opacity: 0;
      transform: scale(0.95) translateY(-20px);
    }

    .window-enter-active {
      opacity: 1;
      transform: scale(1) translateY(0);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .window-exit {
      opacity: 1;
      transform: scale(1) translateY(0);
    }

    .window-exit-active {
      opacity: 0;
      transform: scale(0.95) translateY(-20px);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* ä¸»é¢˜åˆ‡æ¢åŠ¨ç”» */
    .theme-transition {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* ä¸»çª—å£æ ·å¼ */
    .main-window {
      width: 420px;
      height: 380px;
      background: var(--primary-bg);
      backdrop-filter: blur(20px);
      color: var(--text-primary);
      border-radius: 20px;
      box-shadow: var(--shadow-heavy);
      border: 1px solid rgba(255, 255, 255, 0.1);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      position: relative;
      min-width: 320px;
      min-height: 240px;
      max-width: 600px;
      max-height: 500px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .main-window:hover {
      transform: translateY(-2px);
      box-shadow: 0 32px 64px -12px rgba(0, 0, 0, 0.35);
    }

    /* ç´§å‡‘æ¨¡å¼ */
    .main-window.compact {
      width: 320px;
      height: 220px;
    }

    .main-window.compact .question-area,
    .main-window.compact .answer-area {
      height: 50px;
      font-size: 12px;
    }

    /* æ‰©å±•æ¨¡å¼ */
    .main-window.expanded {
      width: 520px;
      height: 420px;
    }

    .main-window.expanded .answer-area {
      height: 200px;
    }

    /* æ ‡é¢˜æ  */
    .title-bar {
      height: 40px;
      background: var(--secondary-bg);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      -webkit-app-region: drag;
      border-bottom: 1px solid var(--border-color);
    }

    .window-controls {
      display: flex;
      gap: 8px;
    }

    .window-control {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      -webkit-app-region: no-drag;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .window-control:hover {
      transform: scale(1.1);
    }

    .window-control.close {
      background: linear-gradient(135deg, #ff6b6b, #ee5a52);
    }

    .window-control.minimize {
      background: linear-gradient(135deg, #ffd93d, #ffcd02);
    }

    .window-control.maximize {
      background: linear-gradient(135deg, #6bcf7f, #57c267);
    }

    .title-actions {
      display: flex;
      gap: 12px;
      -webkit-app-region: no-drag;
    }

    /* å“ç‰Œæ ‡è¯† */
    .brand-logo {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      font-size: 14px;
      color: var(--text-primary);
    }

    .brand-icon {
      width: 20px;
      height: 20px;
      background: var(--gradient-accent);
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    /* çŠ¶æ€æ  */
    .status-bar {
      height: 50px;
      padding: 0 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: var(--secondary-bg);
      border-bottom: 1px solid var(--border-color);
    }

    .listening-status {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .mic-icon {
      color: var(--listening-color);
      font-size: 20px;
      filter: drop-shadow(0 0 8px rgba(59, 130, 246, 0.3));
    }

    .status-text {
      color: var(--text-secondary);
      font-size: 14px;
      font-weight: 500;
    }

    .recording-status {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .recording-indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background: var(--error-color);
      animation: pulse 1.5s infinite;
      box-shadow: 0 0 12px rgba(239, 68, 68, 0.4);
    }

    @keyframes pulse {
      0% {
        opacity: 1;
        transform: scale(1);
      }

      50% {
        opacity: 0.6;
        transform: scale(1.2);
      }

      100% {
        opacity: 1;
        transform: scale(1);
      }
    }

    /* é—®é¢˜åŒºåŸŸ */
    .question-area {
      height: 90px;
      padding: 16px 20px;
      background: var(--tertiary-bg);
      border-radius: 12px;
      margin: 16px 20px 8px;
      overflow-y: auto;
      font-size: 14px;
      line-height: 1.6;
      border: 1px solid var(--border-color);
      transition: all 0.2s ease;
    }

    .question-area:hover {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
    }

    /* å›ç­”åŒºåŸŸ */
    .answer-area {
      height: 120px;
      padding: 16px 20px;
      background: var(--tertiary-bg);
      border-radius: 12px;
      margin: 8px 20px;
      overflow-y: auto;
      font-size: 14px;
      line-height: 1.6;
      flex-grow: 1;
      border: 1px solid var(--border-color);
      transition: all 0.2s ease;
    }

    .answer-area:hover {
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
    }

    /* æ§åˆ¶æ  */
    .control-bar {
      height: 50px;
      padding: 0 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: var(--secondary-bg);
      border-top: 1px solid var(--border-color);
    }

    .mode-controls {
      display: flex;
      gap: 8px;
    }

    .action-controls {
      display: flex;
      gap: 8px;
    }

    /* æŒ‰é’®æ ·å¼ */
    .btn-primary {
      background: var(--gradient-accent);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: var(--shadow-light);
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: var(--shadow-medium);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-secondary {
      background: var(--secondary-bg);
      color: var(--text-secondary);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .btn-secondary:hover {
      background: var(--tertiary-bg);
      color: var(--text-primary);
      border-color: var(--accent-color);
      transform: translateY(-1px);
    }

    .btn-icon {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: transparent;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--text-secondary);
      transition: all 0.2s ease;
    }

    .btn-icon:hover {
      background: var(--tertiary-bg);
      color: var(--text-primary);
      transform: scale(1.05);
    }

    /* é€æ˜åº¦æ§åˆ¶ */
    .opacity-control {
      height: 40px;
      padding: 0 20px;
      display: flex;
      align-items: center;
      gap: 12px;
      background: var(--secondary-bg);
      border-top: 1px solid var(--border-color);
    }

    .opacity-label {
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 500;
      min-width: 50px;
    }

    .opacity-slider {
      flex-grow: 1;
      height: 6px;
      -webkit-appearance: none;
      appearance: none;
      background: var(--border-color);
      border-radius: 3px;
      outline: none;
      transition: all 0.2s ease;
    }

    .opacity-slider:hover {
      background: var(--accent-color);
    }

    .opacity-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--gradient-accent);
      cursor: pointer;
      box-shadow: var(--shadow-light);
      transition: all 0.2s ease;
    }

    .opacity-slider::-webkit-slider-thumb:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-medium);
    }

    .opacity-value {
      color: var(--text-secondary);
      font-size: 13px;
      font-weight: 500;
      min-width: 40px;
      text-align: right;
      font-family: 'JetBrains Mono', monospace;
    }

    /* éŸ³é‡å¯è§†åŒ– */
    .volume-visualizer {
      display: flex;
      align-items: center;
      gap: 3px;
      height: 24px;
    }

    .volume-bar {
      width: 3px;
      background: var(--gradient-accent);
      border-radius: 2px;
      animation: wave 1s infinite ease-in-out;
      box-shadow: 0 0 6px rgba(59, 130, 246, 0.3);
    }

    .volume-bar:nth-child(1) {
      animation-delay: 0s;
    }

    .volume-bar:nth-child(2) {
      animation-delay: 0.1s;
    }

    .volume-bar:nth-child(3) {
      animation-delay: 0.2s;
    }

    .volume-bar:nth-child(4) {
      animation-delay: 0.3s;
    }

    .volume-bar:nth-child(5) {
      animation-delay: 0.4s;
    }

    @keyframes wave {

      0%,
      100% {
        height: 6px;
      }

      50% {
        height: 20px;
      }
    }

    /* ç™»å½•ç•Œé¢æ ·å¼ */
    .login-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(20px);
    }

    .login-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 20px;
      padding: 40px;
      width: 400px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      animation: loginCardEnter 0.6s ease-out;
    }

    @keyframes loginCardEnter {
      from {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .login-header {
      text-align: center;
      margin-bottom: 32px;
    }

    .login-logo {
      font-size: 64px;
      margin-bottom: 16px;
      animation: logoFloat 3s ease-in-out infinite;
    }

    @keyframes logoFloat {

      0%,
      100% {
        transform: translateY(0px);
      }

      50% {
        transform: translateY(-5px);
      }
    }

    .login-title {
      font-size: 28px;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .login-subtitle {
      font-size: 14px;
      color: var(--text-secondary);
      opacity: 0.8;
    }

    .login-form {
      width: 100%;
    }

    .input-group {
      margin-bottom: 20px;
    }

    .input-label {
      display: block;
      font-size: 13px;
      font-weight: 500;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .login-input {
      width: 100%;
      padding: 14px 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-primary);
      font-size: 14px;
      outline: none;
      transition: all 0.3s ease;
      box-sizing: border-box;
    }

    .login-input:focus {
      border-color: var(--accent-color);
      background: rgba(255, 255, 255, 0.08);
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .login-input::placeholder {
      color: var(--text-secondary);
      opacity: 0.6;
    }

    .verification-group {
      display: flex;
      gap: 12px;
      align-items: stretch;
    }

    .verification-input {
      flex: 1;
    }

    .send-code-btn {
      padding: 14px 20px;
      background: rgba(59, 130, 246, 0.2);
      color: var(--accent-color);
      border: 1px solid var(--accent-color);
      border-radius: 12px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      white-space: nowrap;
      min-width: 100px;
    }

    .send-code-btn:hover:not(:disabled) {
      background: var(--accent-color);
      color: white;
      transform: translateY(-1px);
    }

    .send-code-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background: rgba(255, 255, 255, 0.05);
      color: var(--text-secondary);
      border-color: rgba(255, 255, 255, 0.1);
    }

    .input-error {
      font-size: 12px;
      color: #ef4444;
      margin-top: 6px;
      min-height: 16px;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .input-error.show {
      opacity: 1;
    }

    .code-timer {
      font-size: 12px;
      color: var(--accent-color);
      margin-top: 6px;
      min-height: 16px;
    }

    .login-button {
      width: 100%;
      padding: 16px;
      margin: 24px 0;
      background: var(--accent-color);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .login-button:hover:not(:disabled) {
      background: var(--accent-hover);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
    }

    .login-button:disabled {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-secondary);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    .login-button:active:not(:disabled) {
      transform: translateY(0);
    }

    .login-footer {
      text-align: center;
    }

    .login-help {
      margin-bottom: 12px;
    }

    .help-link {
      color: var(--accent-color);
      text-decoration: none;
      font-size: 13px;
      transition: opacity 0.3s ease;
    }

    .help-link:hover {
      opacity: 0.8;
      text-decoration: underline;
    }

    .separator {
      margin: 0 8px;
      color: var(--text-secondary);
      opacity: 0.5;
    }

    .login-tips {
      font-size: 12px;
      color: var(--text-secondary);
      opacity: 0.7;
    }

    /* ç™»å½•çŠ¶æ€æŒ‡ç¤ºå™¨ */
    .login-loading {
      position: relative;
    }

    .login-loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 20px;
      height: 20px;
      margin: -10px 0 0 -10px;
      border: 2px solid transparent;
      border-top: 2px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    .login-help {
      color: var(--text-secondary);
      font-size: 14px;
      margin-top: 16px;
      cursor: pointer;
      text-decoration: none;
      transition: all 0.2s ease;
    }

    .login-help:hover {
      color: var(--accent-color);
    }

    /* è®¾ç½®ç•Œé¢æ ·å¼ */
    .settings-container {
      width: 540px;
      height: 440px;
      background: var(--primary-bg);
      backdrop-filter: blur(20px);
      color: var(--text-primary);
      border-radius: 20px;
      box-shadow: var(--shadow-heavy);
      border: 1px solid rgba(255, 255, 255, 0.1);
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }

    .settings-header {
      height: 40px;
      background: var(--secondary-bg);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      border-bottom: 1px solid var(--border-color);
    }

    .settings-title {
      font-size: 16px;
      font-weight: 600;
      color: var(--text-primary);
    }

    .settings-actions {
      display: flex;
      gap: 12px;
    }

    .settings-tabs {
      display: flex;
      height: 50px;
      background: var(--secondary-bg);
      border-bottom: 1px solid var(--border-color);
    }

    .settings-tab {
      padding: 0 20px;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-secondary);
      border-bottom: 3px solid transparent;
      transition: all 0.2s ease;
      position: relative;
    }

    .settings-tab:hover {
      color: var(--text-primary);
      background: var(--tertiary-bg);
    }

    .settings-tab.active {
      color: var(--accent-color);
      border-bottom-color: var(--accent-color);
      background: var(--tertiary-bg);
    }

    .settings-content {
      flex-grow: 1;
      padding: 24px;
      overflow-y: auto;
    }

    .settings-section {
      margin-bottom: 24px;
    }

    .settings-section-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 12px;
      color: var(--text-primary);
    }

    .settings-slider {
      width: 100%;
      height: 6px;
      -webkit-appearance: none;
      appearance: none;
      background: var(--border-color);
      border-radius: 3px;
      outline: none;
      margin-bottom: 16px;
      transition: all 0.2s ease;
    }

    .settings-slider:hover {
      background: var(--accent-color);
    }

    .settings-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: var(--gradient-accent);
      cursor: pointer;
      box-shadow: var(--shadow-light);
      transition: all 0.2s ease;
    }

    .settings-slider::-webkit-slider-thumb:hover {
      transform: scale(1.1);
      box-shadow: var(--shadow-medium);
    }

    .settings-checkbox {
      display: flex;
      align-items: center;
      margin-bottom: 12px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .settings-checkbox:hover {
      color: var(--accent-color);
    }

    .settings-checkbox input {
      margin-right: 12px;
      width: 18px;
      height: 18px;
      accent-color: var(--accent-color);
    }

    .settings-radio-group {
      display: flex;
      gap: 20px;
      margin-bottom: 16px;
    }

    .settings-radio {
      display: flex;
      align-items: center;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .settings-radio:hover {
      color: var(--accent-color);
    }

    .settings-radio input {
      margin-right: 8px;
      width: 18px;
      height: 18px;
      accent-color: var(--accent-color);
    }

    .settings-select {
      width: 100%;
      padding: 12px 16px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      background: var(--secondary-bg);
      color: var(--text-primary);
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 16px;
      transition: all 0.2s ease;
    }

    .settings-select:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(0, 212, 255, 0.1);
    }

    /* æ— éšœç¢è®¾è®¡ */
    @media (prefers-contrast: high) {
      :root {
        --primary-bg: #000000;
        --secondary-bg: #1a1a1a;
        --text-primary: #ffffff;
        --border-color: #ffffff;
        --accent-color: #00ff00;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* å“åº”å¼è®¾è®¡ */
    @media (min-resolution: 144dpi) {
      .main-window {
        font-size: 13px;
      }
    }

    @media (min-resolution: 192dpi) {
      .main-window {
        font-size: 12px;
      }
    }

    /* è§¦æ‘¸å‹å¥½è®¾è®¡ */
    .touch-target {
      min-width: 44px;
      min-height: 44px;
      padding: 8px;
    }

    .swipe-area {
      touch-action: pan-x pan-y;
    }

    /* å­—ä½“å¤§å°ç±» */
    .font-small {
      font-size: 12px;
    }

    .font-normal {
      font-size: 14px;
    }

    .font-large {
      font-size: 16px;
    }

    .font-xlarge {
      font-size: 18px;
    }

    /* éšè—ä¸æ´»è·ƒçš„ç•Œé¢ */
    .hidden {
      display: none;
    }

    /* æ»šåŠ¨æ¡æ ·å¼ */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: var(--secondary-bg);
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent-color);
    }
  </style>
</head>

<body>
  <!-- ä¸»ç•Œé¢ -->
  <div id="main-interface" class="main-window theme-transition">
    <!-- æ ‡é¢˜æ  -->
    <div class="title-bar">
      <div class="window-controls">
        <div class="window-control close"></div>
        <div class="window-control minimize"></div>
        <div class="window-control maximize"></div>
      </div>
      <div class="brand-logo">
        <div class="brand-icon">ğŸ¯</div>
        <span>offerHelper</span>
      </div>
      <div class="title-actions">
        <button class="btn-secondary" id="settings-btn">è®¾ç½®</button>
        <button class="btn-secondary" id="hide-btn">éšè—</button>
      </div>
    </div>

    <!-- çŠ¶æ€æ  -->
    <div class="status-bar">
      <div class="listening-status">
        <span class="mic-icon">ğŸ¤</span>
        <div class="volume-visualizer">
          <div class="volume-bar"></div>
          <div class="volume-bar"></div>
          <div class="volume-bar"></div>
          <div class="volume-bar"></div>
          <div class="volume-bar"></div>
        </div>
        <span class="status-text">æ­£åœ¨ç›‘å¬ä¸­...</span>
      </div>
      <div class="recording-status">
        <div class="recording-indicator"></div>
        <span class="status-text">å½•éŸ³ä¸­</span>
      </div>
    </div>

    <!-- é—®é¢˜åŒºåŸŸ -->
    <div class="question-area">
      <div style="color: var(--text-muted); font-size: 12px; margin-bottom: 8px;">è¯†åˆ«åˆ°çš„é—®é¢˜</div>
      <div>è¯·ä»‹ç»ä¸€ä¸‹ä½ çš„é¡¹ç›®ç»éªŒå’ŒæŠ€æœ¯æ ˆ...</div>
    </div>

    <!-- å›ç­”åŒºåŸŸ -->
    <div class="answer-area">
      <div style="color: var(--text-muted); font-size: 12px; margin-bottom: 8px;">AI ç”Ÿæˆçš„å›ç­”å»ºè®®</div>
      <div>æˆ‘åœ¨è¿‡å»çš„é¡¹ç›®ä¸­ä¸»è¦ä½¿ç”¨äº†Reactã€Node.jså’ŒMongoDBæŠ€æœ¯æ ˆã€‚å…¶ä¸­æœ€æœ‰ä»£è¡¨æ€§çš„é¡¹ç›®æ˜¯ä¸€ä¸ªç”µå•†å¹³å°ï¼Œæˆ‘è´Ÿè´£å‰ç«¯æ¶æ„è®¾è®¡å’Œæ ¸å¿ƒåŠŸèƒ½å¼€å‘...</div>
    </div>

    <!-- æ§åˆ¶æ  -->
    <div class="control-bar">
      <div class="mode-controls">
        <button class="btn-secondary">ç²¾ç®€</button>
        <button class="btn-primary">æ™®é€š</button>
        <button class="btn-secondary">è¯¦ç»†</button>
      </div>
      <div class="action-controls">
        <button class="btn-secondary">å¤åˆ¶</button>
        <button class="btn-secondary">æ¸…é™¤</button>
      </div>
    </div>

    <!-- é€æ˜åº¦æ§åˆ¶ -->
    <div class="opacity-control">
      <span class="opacity-label">é€æ˜åº¦</span>
      <input type="range" class="opacity-slider" min="20" max="100" value="80">
      <span class="opacity-value">80%</span>
    </div>
  </div>

  <!-- ç™»å½•ç•Œé¢ -->
  <div id="login-interface" class="login-container theme-transition">
    <div class="login-card">
      <div class="login-header">
        <div class="login-logo">ğŸ¯</div>
        <div class="login-title">offerHelper</div>
        <div class="login-subtitle">AIé¢è¯•åŠ©æ‰‹</div>
      </div>

      <div class="login-form">
        <div class="input-group">
          <label class="input-label">é‚®ç®±åœ°å€</label>
          <input type="email" id="email-input" class="login-input" placeholder="è¯·è¾“å…¥æ‚¨çš„é‚®ç®±åœ°å€">
          <div class="input-error" id="email-error"></div>
        </div>

        <div class="input-group">
          <label class="input-label">éªŒè¯ç </label>
          <div class="verification-group">
            <input type="text" id="code-input" class="login-input verification-input" placeholder="è¯·è¾“å…¥6ä½éªŒè¯ç "
              maxlength="6">
            <button id="send-code-btn" class="send-code-btn">å‘é€éªŒè¯ç </button>
          </div>
          <div class="input-error" id="code-error"></div>
          <div class="code-timer" id="code-timer"></div>
        </div>

        <button id="login-btn" class="login-button" disabled>ç™»å½•</button>

        <div class="login-footer">
          <div class="login-help">
            <a href="#" class="help-link">ä½¿ç”¨æŒ‡å—</a>
            <span class="separator">|</span>
            <a href="#" class="help-link">éšç§æ”¿ç­–</a>
          </div>
          <div class="login-tips">
            é¦–æ¬¡ä½¿ç”¨å°†è‡ªåŠ¨åˆ›å»ºè´¦æˆ·
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- è®¾ç½®ç•Œé¢ -->
  <div id="settings-interface" class="settings-container theme-transition hidden">
    <!-- è®¾ç½®æ ‡é¢˜æ  -->
    <div class="settings-header">
      <div class="settings-title">offerHelper è®¾ç½®</div>
      <div class="settings-actions">
        <button class="btn-primary" id="save-settings">ä¿å­˜</button>
        <button class="btn-secondary" id="cancel-settings">å–æ¶ˆ</button>
      </div>
    </div>

    <!-- è®¾ç½®æ ‡ç­¾é¡µ -->
    <div class="settings-tabs">
      <div class="settings-tab active" data-tab="basic">åŸºç¡€è®¾ç½®</div>
      <div class="settings-tab" data-tab="audio">éŸ³é¢‘è®¾ç½®</div>
      <div class="settings-tab" data-tab="shortcuts">å¿«æ·é”®</div>
      <div class="settings-tab" data-tab="about">å…³äº</div>
    </div>

    <!-- è®¾ç½®å†…å®¹ -->
    <div class="settings-content">
      <!-- åŸºç¡€è®¾ç½® -->
      <div id="basic-settings" class="settings-panel">
        <div class="settings-section">
          <div class="settings-section-title">é€æ˜åº¦è®¾ç½®</div>
          <input type="range" class="settings-slider" min="20" max="100" value="80">
        </div>

        <div class="settings-section">
          <div class="settings-checkbox">
            <input type="checkbox" id="auto-hide">
            <label for="auto-hide">æ£€æµ‹åˆ°å±å¹•å…±äº«æ—¶è‡ªåŠ¨éšè—</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="auto-start">
            <label for="auto-start">å¼€æœºè‡ªåŠ¨å¯åŠ¨</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="minimize-to-tray">
            <label for="minimize-to-tray">æœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜</label>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">ä¸»é¢˜è®¾ç½®</div>
          <div class="settings-radio-group">
            <div class="settings-radio">
              <input type="radio" id="theme-dark" name="theme" checked>
              <label for="theme-dark">æ·±è‰²ä¸»é¢˜</label>
            </div>
            <div class="settings-radio">
              <input type="radio" id="theme-light" name="theme">
              <label for="theme-light">æµ…è‰²ä¸»é¢˜</label>
            </div>
            <div class="settings-radio">
              <input type="radio" id="theme-auto" name="theme">
              <label for="theme-auto">è·Ÿéšç³»ç»Ÿ</label>
            </div>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">çª—å£è®¾ç½®</div>
          <div class="settings-checkbox">
            <input type="checkbox" id="always-on-top">
            <label for="always-on-top">å§‹ç»ˆç½®é¡¶</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="frameless-mode">
            <label for="frameless-mode">æ— è¾¹æ¡†æ¨¡å¼</label>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">è¯­è¨€è®¾ç½®</div>
          <select class="settings-select">
            <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
            <option value="en-US">English</option>
          </select>
        </div>
      </div>

      <!-- éŸ³é¢‘è®¾ç½® -->
      <div id="audio-settings" class="settings-panel hidden">
        <div class="settings-section">
          <div class="settings-section-title">éº¦å…‹é£è®¾å¤‡</div>
          <select class="settings-select">
            <option value="default">é»˜è®¤è®¾å¤‡</option>
          </select>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">éŸ³é¢‘çµæ•åº¦</div>
          <div style="display: flex; align-items: center; gap: 10px;">
            <input type="range" class="settings-slider" min="1" max="10" value="8" style="flex-grow: 1;">
            <span>8/10</span>
            <button class="btn-secondary">æµ‹è¯•</button>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-checkbox">
            <input type="checkbox" id="noise-suppression">
            <label for="noise-suppression">å¯ç”¨å™ªéŸ³æŠ‘åˆ¶</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="echo-cancellation">
            <label for="echo-cancellation">å¯ç”¨å›å£°æ¶ˆé™¤</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="auto-gain">
            <label for="auto-gain">è‡ªåŠ¨å¢ç›Šæ§åˆ¶</label>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">éŸ³é¢‘è´¨é‡</div>
          <div class="settings-radio-group">
            <div class="settings-radio">
              <input type="radio" id="quality-standard" name="quality" checked>
              <label for="quality-standard">æ ‡å‡† (16kHz)</label>
            </div>
            <div class="settings-radio">
              <input type="radio" id="quality-high" name="quality">
              <label for="quality-high">é«˜è´¨é‡ (48kHz)</label>
            </div>
          </div>
        </div>

        <div class="settings-section">
          <div class="settings-section-title">è¯­éŸ³è¯†åˆ«æœåŠ¡</div>
          <div class="settings-radio-group">
            <div class="settings-radio">
              <input type="radio" id="service-tencent" name="service" checked>
              <label for="service-tencent">è…¾è®¯äº‘</label>
            </div>
            <div class="settings-radio">
              <input type="radio" id="service-baidu" name="service">
              <label for="service-baidu">ç™¾åº¦äº‘</label>
            </div>
            <div class="settings-radio">
              <input type="radio" id="service-ali" name="service">
              <label for="service-ali">é˜¿é‡Œäº‘</label>
            </div>
          </div>
        </div>

        <div class="settings-section">
          <div style="display: flex; gap: 10px;">
            <button class="btn-secondary">æµ‹è¯•éº¦å…‹é£</button>
            <button class="btn-secondary">æµ‹è¯•è¯†åˆ«</button>
          </div>
        </div>
      </div>

      <!-- å¿«æ·é”®è®¾ç½® -->
      <div id="shortcuts-settings" class="settings-panel hidden">
        <div class="settings-section">
          <table style="width: 100%; border-collapse: collapse;">
            <tr>
              <th style="text-align: left; padding-bottom: 10px;">åŠŸèƒ½</th>
              <th style="text-align: right; padding-bottom: 10px;">å¿«æ·é”®</th>
            </tr>
            <tr style="border-top: 1px solid var(--border-color);">
              <td style="padding: 8px 0;">æ˜¾ç¤º/éšè—çª—å£</td>
              <td style="text-align: right;">[Cmd+Shift+H]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">å¼€å§‹/åœæ­¢ç›‘å¬</td>
              <td style="text-align: right;">[Cmd+Shift+S]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">ç²¾ç®€æ¨¡å¼</td>
              <td style="text-align: right;">[Cmd+Shift+1]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">æ™®é€šæ¨¡å¼</td>
              <td style="text-align: right;">[Cmd+Shift+2]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">è¯¦ç»†æ¨¡å¼</td>
              <td style="text-align: right;">[Cmd+Shift+3]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">ç´§æ€¥éšè—</td>
              <td style="text-align: right;">[Cmd+Shift+E]</td>
            </tr>
            <tr>
              <td style="padding: 8px 0;">é€€å‡ºåº”ç”¨</td>
              <td style="text-align: right;">[Cmd+Shift+Q]</td>
            </tr>
          </table>
        </div>

        <div class="settings-section">
          <div class="settings-checkbox">
            <input type="checkbox" id="enable-shortcuts" checked>
            <label for="enable-shortcuts">å¯ç”¨å…¨å±€å¿«æ·é”®</label>
          </div>
          <div class="settings-checkbox">
            <input type="checkbox" id="show-shortcuts-tips">
            <label for="show-shortcuts-tips">æ˜¾ç¤ºå¿«æ·é”®æç¤º</label>
          </div>
        </div>

        <div class="settings-section">
          <div style="display: flex; gap: 10px;">
            <button class="btn-secondary">æ¢å¤é»˜è®¤</button>
            <button class="btn-secondary">æ£€æµ‹å†²çª</button>
          </div>
        </div>
      </div>

      <!-- å…³äºé¡µé¢ -->
      <div id="about-settings" class="settings-panel hidden">
        <div class="settings-section" style="text-align: center;">
          <div style="font-size: 48px; margin-bottom: 10px;">ğŸ¯</div>
          <div style="font-size: 20px; font-weight: 600; margin-bottom: 5px;">offerHelper</div>
          <div style="color: var(--text-secondary); margin-bottom: 20px;">ç‰ˆæœ¬ 1.0.0</div>
          <div style="margin-bottom: 20px;">
            ä¸€æ¬¾ä¸“ä¸ºé¢è¯•åœºæ™¯è®¾è®¡çš„AIåŠ©æ‰‹ï¼Œå¸®åŠ©æ‚¨åœ¨é¢è¯•ä¸­è¡¨ç°æ›´å‡ºè‰²
          </div>
          <div style="color: var(--text-secondary); margin-bottom: 10px;">
            Â© 2024 offerHelper å›¢é˜Ÿ
          </div>
          <div>
            <a href="#" style="color: var(--accent-color); text-decoration: none; margin: 0 10px;">å®˜æ–¹ç½‘ç«™</a>
            <a href="#" style="color: var(--accent-color); text-decoration: none; margin: 0 10px;">ä½¿ç”¨æŒ‡å—</a>
            <a href="#" style="color: var(--accent-color); text-decoration: none; margin: 0 10px;">éšç§æ”¿ç­–</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // ä¸»é¢˜åˆ‡æ¢
    const themeRadios = document.querySelectorAll('input[name="theme"]')
    themeRadios.forEach(radio =>
    {
      radio.addEventListener('change', (e) =>
      {
        if (e.target.id === 'theme-dark') {
          document.documentElement.removeAttribute('data-theme')
        } else if (e.target.id === 'theme-light') {
          document.documentElement.setAttribute('data-theme', 'light')
        } else if (e.target.id === 'theme-auto') {
          document.documentElement.setAttribute('data-theme', 'auto')
        }
      })
    })

    // é€æ˜åº¦æ§åˆ¶
    const opacitySliders = document.querySelectorAll('.opacity-slider')
    opacitySliders.forEach(slider =>
    {
      slider.addEventListener('input', (e) =>
      {
        const value = e.target.value
        const mainWindow = document.getElementById('main-interface')
        mainWindow.style.opacity = value / 100

        // æ›´æ–°æ˜¾ç¤ºçš„å€¼
        const valueDisplay = e.target.parentElement.querySelector('.opacity-value')
        if (valueDisplay) {
          valueDisplay.textContent = `${value}%`
        }
      })
    })

    // ç•Œé¢åˆ‡æ¢
    const settingsBtn = document.getElementById('settings-btn')
    const saveSettingsBtn = document.getElementById('save-settings')
    const cancelSettingsBtn = document.getElementById('cancel-settings')
    const mainInterface = document.getElementById('main-interface')
    const settingsInterface = document.getElementById('settings-interface')

    settingsBtn.addEventListener('click', () =>
    {
      mainInterface.classList.add('hidden')
      settingsInterface.classList.remove('hidden')
    })

    saveSettingsBtn.addEventListener('click', () =>
    {
      settingsInterface.classList.add('hidden')
      mainInterface.classList.remove('hidden')
    })

    cancelSettingsBtn.addEventListener('click', () =>
    {
      settingsInterface.classList.add('hidden')
      mainInterface.classList.remove('hidden')
    })

    // è®¾ç½®æ ‡ç­¾é¡µåˆ‡æ¢
    const settingsTabs = document.querySelectorAll('.settings-tab')
    const settingsPanels = document.querySelectorAll('.settings-panel')

    settingsTabs.forEach(tab =>
    {
      tab.addEventListener('click', () =>
      {
        // ç§»é™¤æ‰€æœ‰æ ‡ç­¾é¡µçš„æ´»è·ƒçŠ¶æ€
        settingsTabs.forEach(t => t.classList.remove('active'))
        // éšè—æ‰€æœ‰é¢æ¿
        settingsPanels.forEach(p => p.classList.add('hidden'))

        // æ¿€æ´»å½“å‰æ ‡ç­¾é¡µ
        tab.classList.add('active')
        // æ˜¾ç¤ºå¯¹åº”é¢æ¿
        const panelId = `${tab.dataset.tab}-settings`
        document.getElementById(panelId)?.classList.remove('hidden')
      })
    })

    // æ¨¡å¼åˆ‡æ¢
    const modeButtons = document.querySelectorAll('.mode-controls button')
    modeButtons.forEach(button =>
    {
      button.addEventListener('click', () =>
      {
        modeButtons.forEach(b => b.classList.remove('btn-primary'))
        modeButtons.forEach(b => b.classList.add('btn-secondary'))
        button.classList.remove('btn-secondary')
        button.classList.add('btn-primary')
      })
    })

    // éšè—æŒ‰é’®
    const hideBtn = document.getElementById('hide-btn')
    hideBtn.addEventListener('click', () =>
    {
      mainInterface.classList.add('window-exit')
      mainInterface.classList.add('window-exit-active')
      setTimeout(() =>
      {
        mainInterface.classList.add('hidden')
        mainInterface.classList.remove('window-exit')
        mainInterface.classList.remove('window-exit-active')
      }, 300)
    })

    // å¤åˆ¶å’Œæ¸…é™¤æŒ‰é’®
    const copyBtn = document.querySelector('.action-controls button:first-child')
    const clearBtn = document.querySelector('.action-controls button:last-child')
    const answerArea = document.querySelector('.answer-area')
    const questionArea = document.querySelector('.question-area')

    copyBtn.addEventListener('click', () =>
    {
      const answerText = answerArea.children[1].textContent.trim()
      navigator.clipboard.writeText(answerText)
        .then(() =>
        {
          // å¤åˆ¶æˆåŠŸçš„è§†è§‰åé¦ˆ
          copyBtn.textContent = 'å·²å¤åˆ¶'
          setTimeout(() =>
          {
            copyBtn.textContent = 'å¤åˆ¶'
          }, 2000)
        })
        .catch(err =>
        {
          console.error('å¤åˆ¶å¤±è´¥:', err)
        })
    })

    clearBtn.addEventListener('click', () =>
    {
      questionArea.children[1].textContent = 'ç­‰å¾…è¯†åˆ«é—®é¢˜...'
      answerArea.children[1].textContent = 'ç­‰å¾…AIç”Ÿæˆå›ç­”å»ºè®®...'
    })

    // ç™»å½•ç•Œé¢é€»è¾‘
    const loginInterface = document.getElementById('login-interface')
    const emailInput = document.getElementById('email-input')
    const codeInput = document.getElementById('code-input')
    const sendCodeBtn = document.getElementById('send-code-btn')
    const loginBtn = document.getElementById('login-btn')
    const emailError = document.getElementById('email-error')
    const codeError = document.getElementById('code-error')
    const codeTimer = document.getElementById('code-timer')

    let countdownTimer = null
    let countdown = 0

    // é‚®ç®±éªŒè¯
    function validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/
      return emailRegex.test(email)
    }

    // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯
    function showError(errorElement, message) {
      errorElement.textContent = message
      errorElement.classList.add('show')
    }

    // éšè—é”™è¯¯ä¿¡æ¯
    function hideError(errorElement) {
      errorElement.classList.remove('show')
    }

    // æ›´æ–°ç™»å½•æŒ‰é’®çŠ¶æ€
    function updateLoginButton() {
      const emailValid = validateEmail(emailInput.value.trim())
      const codeValid = codeInput.value.trim().length === 6
      loginBtn.disabled = !(emailValid && codeValid)
    }

    // å¼€å§‹å€’è®¡æ—¶
    function startCountdown() {
      countdown = 60
      sendCodeBtn.disabled = true
      
      function updateTimer() {
        if (countdown > 0) {
          codeTimer.textContent = `${countdown}ç§’åå¯é‡æ–°å‘é€`
          sendCodeBtn.textContent = `${countdown}s`
          countdown--
          countdownTimer = setTimeout(updateTimer, 1000)
        } else {
          codeTimer.textContent = ''
          sendCodeBtn.textContent = 'é‡æ–°å‘é€'
          sendCodeBtn.disabled = false
        }
      }
      updateTimer()
    }

    // é‚®ç®±è¾“å…¥äº‹ä»¶
    emailInput.addEventListener('input', () => {
      hideError(emailError)
      updateLoginButton()
    })

    emailInput.addEventListener('blur', () => {
      const email = emailInput.value.trim()
      if (email && !validateEmail(email)) {
        showError(emailError, 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€')
      }
    })

    // éªŒè¯ç è¾“å…¥äº‹ä»¶
    codeInput.addEventListener('input', (e) => {
      // åªå…è®¸è¾“å…¥æ•°å­—
      e.target.value = e.target.value.replace(/\D/g, '')
      hideError(codeError)
      updateLoginButton()
    })

    // å‘é€éªŒè¯ç 
    sendCodeBtn.addEventListener('click', () => {
      const email = emailInput.value.trim()
      
      if (!email) {
        showError(emailError, 'è¯·è¾“å…¥é‚®ç®±åœ°å€')
        emailInput.focus()
        return
      }
      
      if (!validateEmail(email)) {
        showError(emailError, 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€')
        emailInput.focus()
        return
      }

      // æ¨¡æ‹Ÿå‘é€éªŒè¯ç 
      sendCodeBtn.textContent = 'å‘é€ä¸­...'
      sendCodeBtn.disabled = true
      
      setTimeout(() => {
        // æ¨¡æ‹Ÿå‘é€æˆåŠŸ
        startCountdown()
        codeInput.focus()
        
        // æ˜¾ç¤ºæˆåŠŸæç¤ºï¼ˆå®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šè°ƒç”¨çœŸå®çš„APIï¼‰
        console.log(`éªŒè¯ç å·²å‘é€åˆ° ${email}`)
      }, 1500)
    })

    // ç™»å½•
    loginBtn.addEventListener('click', () => {
      const email = emailInput.value.trim()
      const code = codeInput.value.trim()
      
      if (!validateEmail(email)) {
        showError(emailError, 'è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€')
        return
      }
      
      if (code.length !== 6) {
        showError(codeError, 'è¯·è¾“å…¥6ä½éªŒè¯ç ')
        return
      }

      // æ˜¾ç¤ºç™»å½•ä¸­çŠ¶æ€
      loginBtn.classList.add('login-loading')
      loginBtn.textContent = ''
      loginBtn.disabled = true
      
      // æ¨¡æ‹Ÿç™»å½•éªŒè¯
      setTimeout(() => {
        // æ¨¡æ‹Ÿç™»å½•æˆåŠŸï¼ˆå®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šè°ƒç”¨çœŸå®çš„APIéªŒè¯ï¼‰
        console.log(`ç™»å½•æˆåŠŸ: ${email}, éªŒè¯ç : ${code}`)
        
        // ç™»å½•æˆåŠŸï¼Œåˆ‡æ¢åˆ°ä¸»ç•Œé¢
        loginInterface.classList.add('hidden')
        mainInterface.classList.remove('hidden')
        
        // é‡ç½®ç™»å½•è¡¨å•
        emailInput.value = ''
        codeInput.value = ''
        loginBtn.classList.remove('login-loading')
        loginBtn.textContent = 'ç™»å½•'
        loginBtn.disabled = true
        hideError(emailError)
        hideError(codeError)
        
        // æ¸…é™¤å€’è®¡æ—¶
        if (countdownTimer) {
          clearTimeout(countdownTimer)
          countdownTimer = null
        }
        codeTimer.textContent = ''
        sendCodeBtn.textContent = 'å‘é€éªŒè¯ç '
        sendCodeBtn.disabled = false
        countdown = 0
        
      }, 2000)
    })

    // å›è½¦é”®ç™»å½•
    codeInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' && !loginBtn.disabled) {
        loginBtn.click()
      }
    })

    emailInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        if (validateEmail(emailInput.value.trim())) {
          sendCodeBtn.click()
        }
      }
    })

    // åˆå§‹åŒ–ç•Œé¢
    document.addEventListener('DOMContentLoaded', () =>
    {
      // é»˜è®¤æ˜¾ç¤ºç™»å½•ç•Œé¢
      loginInterface.classList.remove('hidden')
      mainInterface.classList.add('hidden')
      
      // èšç„¦åˆ°é‚®ç®±è¾“å…¥æ¡†
      setTimeout(() => {
        emailInput.focus()
      }, 500)
    })
  </script>
</body>

</html>